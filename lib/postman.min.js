(function(){var a,b,c,d,e,f;a={},e=function(a){return a.constructor===Array},b=function(b){return a[b]={subs:[],history:[]}},c=function(c,d){var f,g,h,i;a[c]||b(c),d||(d=[]),e(d)||(d=[d]),a[c].history.push(d),i=a[c].subs;for(g=0,h=i.length;g<h;g++)f=i[g],f.apply(this,d);return postman},f=function(c,d){var e,f,g,h;a[c]||b(c),a[c].subs.push(d),h=a[c].history;for(f=0,g=h.length;f<g;f++)e=h[f],d.apply(this,e);return postman},d=function(c){a[c]||b(c),a[c].history=[];return postname.deliver("dropMessage."+c)},this.postman={deliver:c,receive:f,dropMessages:d}}).call(this)